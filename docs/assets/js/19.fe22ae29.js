(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{451:function(a,e,s){"use strict";s.r(e);var t=s(37),r=Object(t.a)({},(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"satumjs-simple-midwares"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#satumjs-simple-midwares"}},[a._v("#")]),a._v(" @satumjs/simple-midwares")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://www.npmjs.com/package/@satumjs/simple-midwares",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.npmjs.com/package/@satumjs/simple-midwares"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("一些简单中间件集合。包含"),s("strong",[a._v("缓存、沙箱、样式隔离、获取挂载点、路由协调、图片路径自动补全")]),a._v("等实现。")]),a._v(" "),s("ul",[s("li",[a._v("simpleCacheMidware: 简单的文件内容缓存，会缓存获取过的 js/css 文件内容")]),a._v(" "),s("li",[a._v("simpleSandboxMidware: 简单的沙箱，会执行微应用的脚本"),s("br"),a._v("options 说明:\n"),s("ul",[s("li",[s("code",[a._v("docVariable")]),a._v(": 改写沙箱 document 的返回值, 当返回 undefined/null 则继续按默认逻辑查找")]),a._v(" "),s("li",[s("code",[a._v("winVariable")]),a._v(": 改写沙箱 window 的返回值, 当返回 undefined/null 则继续按默认逻辑查找")])])]),a._v(" "),s("li",[a._v("simpleCssScopeMidware: 简单的 css scope 实现，会处理 css 规则增加 scope"),s("br"),a._v("options 说明:\n"),s("ul",[s("li",[s("code",[a._v("scopeRule")]),a._v(": 设置 css selector 前缀规则")]),a._v(" "),s("li",[s("code",[a._v("ignoreList")]),a._v(": 设置特殊的忽略名单，前缀会在命中的选择器后面插入")])])]),a._v(" "),s("li",[a._v("imageUrlCompleteMidware: css 和页面中的图片相对路径自动补全"),s("br"),a._v("options 说明:\n"),s("ul",[s("li",[s("code",[a._v("publicPath")]),a._v(": 用户自定义微应用的 publicPath")]),a._v(" "),s("li",[s("code",[a._v("getFinalUrl")]),a._v(": 用户自定义最终的返回，参数为默认处理后的 url")])])]),a._v(" "),s("li",[a._v("mountNodeMidware: 获取挂载 dom 节点，会响应 dom 变化，直到成功获取")]),a._v(" "),s("li",[a._v("interceptorMidware: vue/react 路由拦截器，会为不同的微应用分发不同的路径")])]),a._v(" "),s("h2",{attrs:{id:"satumjs-midware-proxy-sandbox"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#satumjs-midware-proxy-sandbox"}},[a._v("#")]),a._v(" @satumjs/midware-proxy-sandbox")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://www.npmjs.com/package/@satumjs/midware-proxy-sandbox",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.npmjs.com/package/@satumjs/midware-proxy-sandbox"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("基于 Proxy 实现的沙箱中间件，目前与 simple-midwares 中的沙箱功能一致。"),s("br"),a._v("欢迎社区感兴趣的同学一起持续增强该沙箱。")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("docVariable")]),a._v(": (k: string, proxyDoc: Object, document: Document) => any.")]),a._v(" "),s("li",[s("code",[a._v("winVariable")]),a._v(": (k: string, proxyWin: Object, window: Window) => any.")])]),a._v(" "),s("h2",{attrs:{id:"satumjs-midware-single-spa"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#satumjs-midware-single-spa"}},[a._v("#")]),a._v(" @satumjs/midware-single-spa")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://www.npmjs.com/package/@satumjs/midware-single-spa",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.npmjs.com/package/@satumjs/midware-single-spa"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("对 "),s("code",[a._v("single-spa")]),a._v(" 做了一层封装，可以利用其 url 变化，协调微应用加/卸载的能力。")]),a._v(" "),s("h2",{attrs:{id:"satumjs-midware-thead-occ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#satumjs-midware-thead-occ"}},[a._v("#")]),a._v(" @satumjs/midware-thead-occ")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://www.npmjs.com/package/@satumjs/midware-thead-occ",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.npmjs.com/package/@satumjs/midware-thead-occ"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("针对 occ 网站业务，封装了一个中间件。除了借用 "),s("code",[a._v("@satumjs/simple-midwares")]),a._v(" 的一些能力外，重点实现了"),s("strong",[a._v("浏览器 nosql 缓存机制")]),a._v("。")]),a._v(" "),s("h2",{attrs:{id:"satumjs-midware-qiankun-sandbox"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#satumjs-midware-qiankun-sandbox"}},[a._v("#")]),a._v(" @satumjs/midware-qiankun-sandbox")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://www.npmjs.com/package/@satumjs/midware-qiankun-sandbox",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.npmjs.com/package/@satumjs/midware-qiankun-sandbox"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("基于 "),s("a",{attrs:{href:"https://www.npmjs.com/package/@satumjs/x-qiankun",target:"_blank",rel:"noopener noreferrer"}},[a._v("x-qiankun"),s("OutboundLink")],1),a._v(" 包实现，完全借用了 "),s("code",[a._v("qiankun")]),a._v(" 的沙箱能力。")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("scopedCSS")]),a._v(": 同 "),s("code",[a._v("qiankun")]),a._v(" 的配置")]),a._v(" "),s("li",[s("code",[a._v("useLooseSandbox")]),a._v(": 同 "),s("code",[a._v("qiankun")]),a._v(" 中的 loose 设置")]),a._v(" "),s("li",[s("code",[a._v("useQiankunStart")]),a._v(": 是否使用 "),s("code",[a._v("qiankun")]),a._v(" 中依赖的 "),s("code",[a._v("single-spa")]),a._v(" 的 start")]),a._v(" "),s("li",[s("code",[a._v("urlRerouteOnly")]),a._v(": 同 "),s("code",[a._v("single-spa")]),a._v(" 的配置")]),a._v(" "),s("li",[s("code",[a._v("mergeWinProperty(fakeWin: Object, window: Window): void")]),a._v(": 通过增删改 fakeWin 对象上的属性，改写沙箱 window 的属性")])]),a._v(" "),s("h2",{attrs:{id:"satumjs-midware-sandbox"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#satumjs-midware-sandbox"}},[a._v("#")]),a._v(" @satumjs/midware-sandbox")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://www.npmjs.com/package/@satumjs/midware-sandbox",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.npmjs.com/package/@satumjs/midware-sandbox"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("基于 iframe 实现的沙箱，支持"),s("strong",[a._v("严格的脚本运行环境")]),a._v("，会把挂载节点视作虚拟 BODY，脚本里"),s("strong",[a._v("对 dom 元素的操作会严格限制在虚拟 BODY 范围内")]),a._v("。并且多实例场景下，"),s("strong",[a._v("不阉割沙箱能力无缝支持 Vite")]),a._v("。")]),a._v(" "),s("h2",{attrs:{id:"satumjs-midware-microcode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#satumjs-midware-microcode"}},[a._v("#")]),a._v(" @satumjs/midware-microcode")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://www.npmjs.com/package/@satumjs/midware-microcode",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.npmjs.com/package/@satumjs/midware-microcode"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("更强大的运行时源码改写能力。")]),a._v(" "),s("h2",{attrs:{id:"satumjs-midware-cachecode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#satumjs-midware-cachecode"}},[a._v("#")]),a._v(" @satumjs/midware-cachecode")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://www.npmjs.com/package/@satumjs/midware-cachecode",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.npmjs.com/package/@satumjs/midware-cachecode"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("更强大的源码缓存能力。")]),a._v(" "),s("h2",{attrs:{id:"satumjs-midware-interceptor"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#satumjs-midware-interceptor"}},[a._v("#")]),a._v(" @satumjs/midware-interceptor")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://www.npmjs.com/package/@satumjs/midware-interceptor",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.npmjs.com/package/@satumjs/midware-interceptor"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("更强大的路由协调能力。")]),a._v(" "),s("h2",{attrs:{id:"satumjs-midware-wc-sandbox"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#satumjs-midware-wc-sandbox"}},[a._v("#")]),a._v(" @satumjs/midware-wc-sandbox")]),a._v(" "),s("p",[a._v("基于 webComponents 实现的沙箱。规划中...")])])}),[],!1,null,null,null);e.default=r.exports}}]);